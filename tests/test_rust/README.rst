This is a large chunk of example code that triggers many Rust analysis
features. However, there are no actual test assertions. This should be broken
up into smaller examples and have tests added.
