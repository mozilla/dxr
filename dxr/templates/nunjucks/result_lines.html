{% macro result_lines(result, www_root, tree) -%}
  {% for entry in result.lines %}
    <div class="result_line" data-line={{ entry.line_number }}>
      <div class="leftmost-column">
          <span class="ctx_full">â™¢</span>
      </div>
      <div class="left-column">
        <a href="{{ www_root }}/{{ tree }}/source/{{ result.path }}#{{ entry.line_number }}">
          {{ entry.line_number }}
        </a>
      </div>
      <div>
        <a href="{{ www_root }}/{{ tree }}/source/{{ result.path }}#{{ entry.line_number }}">
          <code aria-labelledby="{{ entry.line_number }}">{{ entry.line|safe }}</code>
        </a>
      </div>
    </div>
  {% endfor %}
{%- endmacro %}

{# When not being included as a macro, render the code above. #}
{{ result_lines(result, www_root, tree) }}
